package chss.evaluator;


import ai.BoardEvaluator;
import base.Board;
import chss.internal.ChessBoard;
import chss.internal.knowledge.Chess;

public class MaterialEvaluator implements BoardEvaluator {

    static int pieceValues[][][] = {
            {       // 0-Empty
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0}
            },
            {       // 1-Wking
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0}
            },
            {       // 2-WQueen
                    {9 ,10,10,10,10,10,10,9 },
                    {10,11,11,11,11,11,11,10},
                    {10,11,12,12,12,12,11,10},
                    {10,11,12,14,14,12,11,10},
                    {10,11,12,14,14,12,11,10},
                    {10,11,12,12,12,12,11,10},
                    {10,11,11,11,11,11,11,10},
                    {9 ,10,10,10,10,10,10,9}
            },

            {       // 3-WBishop
                    {3, 4, 4, 4, 4, 4, 4, 3 },
                    {4, 5, 5, 5, 5, 5, 5, 4 },
                    {4, 5, 5, 5, 5, 5, 5, 4 },
                    {4, 5, 5, 6, 6, 5, 5, 4 },
                    {4, 5, 5, 6, 6, 5, 5, 4 },
                    {4, 5, 5, 5, 5, 5, 5, 4 },
                    {4, 5, 5, 5, 5, 5, 5, 4 },
                    {3, 4, 4, 4, 4, 4, 4, 3 }
            },
            {       // 4-WKnight
                    {2, 3, 3, 3, 3, 3, 3, 2 },
                    {4, 4, 5, 5, 5, 5, 4, 3 },
                    {4, 5, 5, 5, 5, 5, 5, 3 },
                    {4, 5, 5, 6, 6, 5, 5, 3 },
                    {4, 5, 5, 6, 6, 5, 5, 3 },
                    {4, 5, 5, 5, 5, 5, 5, 3 },
                    {4, 4, 5, 5, 5, 5, 4, 3 },
                    {2, 3, 3, 3, 3, 3, 3, 2 }
            },
            {       // 5-WRook
                    {7, 7, 7, 7, 7, 7, 7, 7 },
                    {7, 7, 7, 7, 7, 7, 7, 7 },
                    {7, 7, 7, 7, 7, 7, 7, 7 },
                    {7, 7, 7, 7, 7, 7, 7, 7 },
                    {7, 7, 7, 7, 7, 7, 7, 7 },
                    {7, 7, 7, 7, 7, 7, 7, 7 },
                    {8, 8, 8, 8, 8, 8, 8, 8 },
                    {7, 7, 7, 7, 7, 7, 7, 7 }
            },
            {       // 6-WPawn
                    {1, 1, 1, 1, 1, 1, 1, 1 },
                    {1, 1, 1, 1, 1, 1, 1, 1 },
                    {1, 1, 1, 1, 1, 1, 1, 1 },
                    {1, 1, 1, 1, 1, 1, 1, 1 },
                    {2, 2, 2, 2, 2, 2, 2, 2 },
                    {2, 2, 2, 2, 2, 2, 2, 2 },
                    {3, 3, 3, 3, 3, 3, 3, 3 },
                    {1, 1, 1, 1, 1, 1, 1, 1 }
            },
            {       // 7-Bking
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0},
                    {0,0,0,0,0,0,0,0,0}
            },
            {       // 8-BQueen
                    {-9 ,-10,-10,-10,-10,-10,-10,-9 },
                    {-10,-11,-11,-11,-11,-11,-11,-10},
                    {-10,-11,-12,-12,-12,-12,-11,-10},
                    {-10,-11,-12,-14,-14,-12,-11,-10},
                    {-10,-11,-12,-14,-14,-12,-11,-10},
                    {-10,-11,-12,-12,-12,-12,-11,-10},
                    {-10,-11,-11,-11,-11,-11,-11,-10},
                    {-9 ,-10,-10,-10,-10,-10,-10,-9}
            },

            {       // 9-BBishop
                    {-3, -4, -4, -4, -4, -4, -4, -3 },
                    {-4, -5, -5, -5, -5, -5, -5, -4 },
                    {-4, -5, -5, -5, -5, -5, -5, -4 },
                    {-4, -5, -5, -6, -6, -5, -5, -4 },
                    {-4, -5, -5, -6, -6, -5, -5, -4 },
                    {-4, -5, -5, -5, -5, -5, -5, -4 },
                    {-4, -5, -5, -5, -5, -5, -5, -4 },
                    {-3, -4, -4, -4, -4, -4, -4, -3 }
            },
            {       // 10-BKnight
                    {-2, -3, -3, -3, -3, -3, -3, -2 },
                    {-4, -4, -5, -5, -5, -5, -4, -3 },
                    {-4, -5, -5, -5, -5, -5, -5, -3 },
                    {-4, -5, -5, -6, -6, -5, -5, -3 },
                    {-4, -5, -5, -6, -6, -5, -5, -3 },
                    {-4, -5, -5, -5, -5, -5, -5, -3 },
                    {-4, -4, -5, -5, -5, -5, -4, -3 },
                    {-2, -3, -3, -3, -3, -3, -3, -2 }
            },
            {       // 11-BRook
                    {-7, -7, -7, -7, -7, -7, -7, -7 },
                    {-8, -8, -8, -8, -8, -8, -8, -8 },
                    {-7, -7, -7, -7, -7, -7, -7, -7 },
                    {-7, -7, -7, -7, -7, -7, -7, -7 },
                    {-7, -7, -7, -7, -7, -7, -7, -7 },
                    {-7, -7, -7, -7, -7, -7, -7, -7 },
                    {-7, -7, -7, -7, -7, -7, -7, -7 },
                    {-7, -7, -7, -7, -7, -7, -7, -7 }
            },
            {       // 12-BPawn
                    {-1, -1, -1, -1, -1, -1, -1, -1 },
                    {-3, -3, -3, -3, -3, -3, -3, -3 },
                    {-2, -2, -2, -2, -2, -2, -2, -2 },
                    {-2, -2, -2, -2, -2, -2, -2, -2 },
                    {-1, -1, -1, -1, -1, -1, -1, -1 },
                    {-1, -1, -1, -1, -1, -1, -1, -1 },
                    {-1, -1, -1, -1, -1, -1, -1, -1 },
                    {-1, -1, -1, -1, -1, -1, -1, -1 }
            },
    };

    @Override
    public double evaluate(Board board, int player) {
        double score = 0;
        ChessBoard cb = (ChessBoard) board;

        for (int r = 0; r < 8; r++) {
            for (int c = 0; c < 8; c++) {
                int piece = cb.get(r,c);
                score += pieceValues[piece][r][c];
            }
        }

        return (player== Chess.WHITE ? score:-score);

    }
}
